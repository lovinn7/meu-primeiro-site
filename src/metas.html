<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Metas - BioTech</title>
  <link rel="stylesheet" href="estilo/estilo.css">
  <link rel="stylesheet" href="estilo/carrinho.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="shortcut icon" href="imagem/logo2.png" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="javascriptt/javascript.js" defer></script>
   <script src="javascriptt/carrinho.js" defer></script>
   <script src="javascriptt/geradordecep.js" defer></script>
</head>
<body>
   <div id="toast-notification" class="toast-notification"></div>
  <header>
    <div class="logo-nome">
      <a href="index.html">
        <img src="imagem/Logo1.jpeg" alt="Logo Bio3D" class="logo" />
      </a>
      <h1>BioTech</h1>
    </div>
    <nav>      
      <ul class="menu">
        <li><a href="index.html">Home</a></li>
        <li><a href="sobre.html">Sobre Nós</a></li>
        <li><span class="menu-active">Metas</span></li>
        <li><a href="#contato">Contato</a></li>
        <li><label for="auth-modal-toggle" class="auth-btn">Login ou Cadastro</label></li>
      </ul>
      <a href="carrinho.html" class="carrinho-icon">   
        <img src="https://cdn-icons-png.flaticon.com/512/107/107831.png" alt="Carrinho" width="30">
        <span id="contador-carrinho" ></span>
        </a>  
      </div>
      <div id="carrinho" class="carrinho-modal" onclick="this.style.display='none'">
        <div class="carrinho-conteudo" onclick="event.stopPropagation()">
          <div class="carrinho-close" onclick="document.getElementById('carrinho').style.display='none'">&times;</div>
          <h2>Seu Carrinho</h2>
        </div>
      </div>
    </nav>
     </header>
       <input type="checkbox" id="auth-modal-toggle" class="modal-toggle">
<div class="auth-modal">
  <label for="auth-modal-toggle" class="modal-overlay"></label>
  <div class="auth-modal-content">
    <label for="auth-modal-toggle" class="close-modal">&times;</label>
    <div class="auth-tabs">
      <input type="radio" id="login-tab" name="auth-tab" checked>
      <input type="radio" id="register-tab" name="auth-tab">
      <div class="tab-labels">
        <label for="login-tab" class="tab-btn">Login</label>
        <label for="register-tab" class="tab-btn">Registrar</label>
      </div>
      <div class="tab-contents">
        <div class="tab-content" id="login-content">
          <form class="auth-form" action-login>
            <input type="email" placeholder="Email" required>
            <input type="password" placeholder="Senha" required>
            <label
              style="display: flex; align-items: center; gap: 4px; margin: 8px 0 0 0;"
            >
              <input type="checkbox" id="lembrar-senha" />
              Lembrar senha
            </label>
            <button type="submit" class="auth-submit-btn">Login</button>
            <a href="esqueceu-a-senha.html" class="forgot-password">Esqueceu a Senha?</a>
          </form>
          <div class="social-login">
            <a href="https://accounts.google.com/" class="social-btn google">
              <img src="https://icon-library.com/images/gmail-icon-svg/gmail-icon-svg-28.jpg" alt="Google" class="google-icon">
              Entrar com Google
            </a>
          </div>
        </div>
        <div class="tab-content" id="register-content">
          <form class="auth-form" action-register>
            <input type="text" placeholder="Nome inteiro" minlength="11" maxlength="60" required>
            <input type="date" required>
            <input type="text" placeholder="Nome Materno" minlength="11" maxlength="60" required>
            <div class="gender-selection">
              <p class="gender-label">Sexo:</p>
              <div class="gender-options">
                <input type="radio" id="male" name="gender" value="male">
                <label for="male" class="gender-option">Homem</label>
                <input type="radio" id="female" name="gender" value="female">
                <label for="female" class="gender-option">Mulher</label>
                <input type="radio" id="other" name="gender" value="other">
                <label for="other" class="gender-option">Outro</label>
                <input type="radio" id="prefer-not-to-say" name="gender" value="prefer-not-to-say">
                <label for="prefer-not-to-say" class="gender-option">Prefiro não dizer</label>
              </div>
            </div>
            <input type="email" placeholder="Email" required>
            <input
              type="tel"
              placeholder="Telefone/Fixo"
              required
              minlength="15"
              maxlength="15"
              pattern="\(\d{2}\) \d{5}-\d{4}"
            >
            <input
              type="text"
              placeholder="CEP"
              id="cep"
              required
              maxlength="9"
            >
            <input type="text" placeholder="Rua" id="rua" required>
            <input type="text" placeholder="Número" id="numero" required>
            <input type="text" placeholder="Bairro" id="bairro" required>
            <input type="text" placeholder="Cidade" id="cidade" required>
            <input type="text" placeholder="Estado" id="estado" required>
            <input
              type="text"
              placeholder="CPF"
              required
              minlength="14"
              maxlength="14"
              pattern="\d{3}\.\d{3}\.\d{3}-\d{2}"
            >
            <input type="password" placeholder="Senha" minlength="8" maxlength="15" required>
            <input type="password" placeholder="Confirmar Senha" required>
            <button type="submit" class="auth-submit-btn">Registrar</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="aviso-topo">
    FRETE GRÁTIS NAS COMPRAS ACIMA DE R$ 500,00. GANHE UMA SEMENTE EM CADA COMPRA
  </div>
  <div class="accessibility-float">
  <button class="accessibility-main-btn" title="Acessibilidade">
        <i class="fa-solid fa-solid fa-eye"></i>
      </button>
  <div class="accessibility-options">
    <button id="toggle-theme" title="Alternar contraste">
      <i class="fa-solid fa-moon"></i>
    </button>
    <div class="font-controls">
      <button class="accessibility-btn" onclick="increaseFont()">A+</button>
      <button class="accessibility-btn" onclick="decreaseFont()">A-</button>
      <button class="accessibility-btn" onclick="resetFont()">A</button>
    </div>
  </div>
  </div>
  <button class="botao-voltar" onclick="history.back()">
        <i class="fa fa-arrow-left"></i>
      </button> 

      <main class="metas-container">
    <h1>Visão Sustentável 2030</h1>
    <p class="subtitulo">Nossa jornada rumo a um impacto ambiental positivo até 2030</p>
    
    <section class="destaque-metas">
      <div class="destaque-card">
        <i class="fas fa-check-circle"></i>
        <h3>Já conquistamos:</h3>
        <ul>
          <li>100% plástico-zero em todos os produtos</li>
          <li>Materiais 100% biodegradáveis ou reciclados</li>
          <li>Parceria com 8 cooperativas de reciclagem</li>
        </ul>
      </div>
    </section>
    
    <section class="graficos-section">   
    </button>
  </div>
      <div class="grafico-card">
        <h2>Materiais Reciclados</h2>
        <canvas id="materiaisChart"></canvas>
        <p>Ampliar o uso de materiais reciclados em nossos produtos</p>
      </div>
      
      <div class="grafico-card">
        <h2>Impacto Comunitário</h2>
        <canvas id="comunidadeChart"></canvas>
        <p>Expandir nosso programa de apoio a cooperativas de reciclagem</p>
      </div>
      
      <div class="grafico-card">
        <h2>Eficiência Energética</h2>
        <canvas id="energiaChart"></canvas>
        <p>Transição gradual para fontes renováveis em nossas operações</p>
      </div>
      
      <div class="grafico-card">
        <h2>Conservação Ambiental</h2>
        <canvas id="conservacaoChart"></canvas>
        <p>Contribuição para a preservação de ecossistemas</p>
      </div>
    </section>
   
<div class="download-all-container">
  <button id="downloadAllBtn" class="btn-download-all">
    <i class="fas fa-download"></i> Baixar todos os gráficos
  </button>
</div>
    
    <section class="metas-texto">
      <h2>Nossa Estratégia Gradual</h2>
      <div class="metas-grid">
        <div class="meta-item">
          <i class="fas fa-seedling"></i>
          <h3>Primeiros Passos (2024-2025)</h3>
          <ul>
            <li>Implementar sistema de logística reversa para 30% dos produtos</li>
            <li>Parceria com 3 cooperativas de reciclagem locais</li>
            <li>25% de energia renovável em nossa fábrica</li>
            <li>Lançamento da linha de produtos com 50% material reciclado</li>
          </ul>
        </div>
        <div class="meta-item">
          <i class="fas fa-leaf"></i>
          <h3>Consolidação (2026-2027)</h3>
          <ul>
            <li>Ampliar logística reversa para 70% dos produtos</li>
            <li>50% de energia renovável em todas as operações</li>
            <li>Programa de educação ambiental para comunidades parceiras</li>
            <li>80% de materiais reciclados em toda linha de produtos</li>
          </ul>
        </div>
        <div class="meta-item">
          <i class="fas fa-tree"></i>
          <h3>Maturação (2028-2030)</h3>
          <ul>
            <li>95% dos produtos com circuito fechado de reciclagem</li>
            <li>100% de energia limpa em nossas operações</li>
            <li>Rede de 10 cooperativas parceiras em todo país</li>
            <li>Projetos de reflorestamento em 2 biomas brasileiros</li>
          </ul>
        </div>
      </div>
    </section>
    
    <section class="impacto-futuro">
      <h2>Impacto que Almejamos</h2>
      <p class="impacto-descricao">Estas são as metas quantitativas que buscamos alcançar nos próximos anos:</p>
      
      <div class="impacto-grid">
        <div class="impacto-item">
          <div class="impacto-numero" id="materiais-meta">0</div>
          <div class="impacto-texto">toneladas de material reciclado utilizado</div>
        </div>
        <div class="impacto-item">
          <div class="impacto-numero" id="cooperativas-meta">0</div>
          <div class="impacto-texto">cooperativas de reciclagem apoiadas</div>
        </div>
        <div class="impacto-item">
          <div class="impacto-numero" id="energia-meta">0</div>
          <div class="impacto-texto">de energia proveniente de fontes renováveis</div>
        </div>
        <div class="impacto-item">
          <div class="impacto-numero" id="areas-meta">0</div>
          <div class="impacto-texto">áreas de conservação ambiental apoiadas</div>
        </div>
      </div>
    </section>
    
    <section class="convite-acao">
      <h2>Junte-se a Nessa Jornada</h2>
      <p>Cada compra na BioTech contribui para que essas metas se tornem realidade. Juntos, podemos construir um futuro mais sustentável.</p>
      <a href="index.html" class="btn-verde">Conheça Nossos Produtos</a>
    </section>
  </main>

  <button
    class="botao-orcamento"
   onclick="document.getElementById('modal-orcamento').style.display = 'flex'"
   >
  💬 Orçamento para Eventos Aqui!
  </button>
    <div id="modal-orcamento" class="modal-orcamento">
      <div class="modal-conteudo">
        <span
          class="modal-fechar"
          onclick="document.getElementById('modal-orcamento').style.display='none'"
          >&times;</span
        >
        <img src="imagem/Logo1.jpeg" alt="logotipo" class="modal-logo" />
        <h2>Solicite um Orçamento</h2>
        <form>
          <label>Nome:</label>
          <input type="text" required />
          <label>CPF/CNPJ:</label>
          <input
            type="text"
            required
            oninput="this.value = this.value.replace(/[^0-9]/g, '')"
            minlength="11"
            maxlength="11"
          />
          
          <label>Email:</label>
          <input type="email" required />
          <label>Telefone:</label>
          <input
            type="tel"
            placeholder="(21)99999-9999"
            pattern="[0-9]*"
            required
          />
              <label>CEP:</label>
<input type="text" id="orcamento-cep" placeholder="" required>
<label>Rua:</label>
<input type="text" id="orcamento-rua" placeholder="" required>
<label>Bairro:</label>

<input type="text" id="orcamento-bairro" placeholder="" required>
<label>Cidade:</label>
<input type="text" id="orcamento-cidade" placeholder="" required>
<label>Estado:</label>
<input type="text" id="orcamento-estado" placeholder="" required>
  <label>Descrição:</label>
  <textarea> </textarea>
          <button type="submit">Enviar</button>
        </form>
      </div>
    </div>



  <footer id="contato">
    <p>Contato: contato@biotech.com.br | (11) 1234-5678</p>
    <p>&copy; 2025 BioTech. Todos os direitos reservados.</p>
    <div class="redes-sociais">
      <a href="https://www.instagram.com/biot3ch_?igsh=MW5rZGlieDg5ZWRjbw%3D%3D&utm_source=qr" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
        <a href="" target="_blank">
        <img src="https://imagepng.org/wp-content/uploads/2017/08/WhatsApp-icone.png" alt="Instagram">
      </a>
    </div>
  </footer>
  <script src="carrossel.js"></script>
</body>
</html>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Animação suave dos números de meta
      function animateValue(id, start, end, duration, suffix = '', prefix = '') {
        const obj = document.getElementById(id);
        let startTimestamp = null;
        const step = (timestamp) => {
          if (!startTimestamp) startTimestamp = timestamp;
          const progress = Math.min((timestamp - startTimestamp) / duration, 1);
          const value = Math.floor(progress * (end - start) + start);
          
          // Formatação diferente para porcentagens
          if (suffix === '%') {
            obj.innerHTML = prefix + value + suffix;
          } else {
            obj.innerHTML = prefix + value.toLocaleString() + suffix;
          }
          
          if (progress < 1) {
            window.requestAnimationFrame(step);
          }
        };
        window.requestAnimationFrame(step);
      }

      // Inicia as animações com delay diferente para cada uma
      setTimeout(() => animateValue('materiais-meta', 0, 120, 1500, '+'), 300);
      setTimeout(() => animateValue('cooperativas-meta', 0, 8, 1500), 600);
      setTimeout(() => animateValue('energia-meta', 0, 35, 1500, '%', ''), 900);
      setTimeout(() => animateValue('areas-meta', 0, 3, 1500), 1200);

      // Gráfico de materiais reciclados
      const materiaisCtx = document.getElementById('materiaisChart').getContext('2d');
      new Chart(materiaisCtx, {
        type: 'bar',
        data: {
          labels: ['2024', '2025', '2026', '2027', '2028', '2029', '2030'],
          datasets: [{
            label: '% de material reciclado',
            data: [30, 45, 60, 75, 85, 90, 95],
            backgroundColor: 'rgba(76, 175, 80, 0.7)',
            borderColor: 'rgba(76, 175, 80, 1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              max: 100,
              title: {
                display: true,
                text: 'Percentual (%)'
              }
            }
          }
        }
      });

      // Gráfico de impacto comunitário
      const comunidadeCtx = document.getElementById('comunidadeChart').getContext('2d');
      new Chart(comunidadeCtx, {
        type: 'line',
        data: {
          labels: ['2024', '2025', '2026', '2027', '2028', '2029', '2030'],
          datasets: [{
            label: 'Cooperativas parceiras',
            data: [3, 4, 5, 6, 7, 8, 10],
            fill: true,
            backgroundColor: 'rgba(139, 195, 74, 0.2)',
            borderColor: 'rgba(139, 195, 74, 1)',
            tension: 0.3,
            pointBackgroundColor: 'rgba(139, 195, 74, 1)'
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Número de cooperativas'
              }
            }
          }
        }
      });

      // Gráfico de eficiência energética
      const energiaCtx = document.getElementById('energiaChart').getContext('2d');
      new Chart(energiaCtx, {
        type: 'doughnut',
        data: {
          labels: ['Meta 2025', 'Meta 2027', 'Meta 2030'],
          datasets: [{
            data: [25, 50, 100],
            backgroundColor: [
              'rgba(100, 181, 246, 0.7)',
              'rgba(77, 182, 172, 0.7)',
              'rgba(129, 199, 132, 0.7)'
            ],
            borderColor: [
              'rgba(100, 181, 246, 1)',
              'rgba(77, 182, 172, 1)',
              'rgba(129, 199, 132, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          plugins: {
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `${context.label}: ${context.raw}%`;
                }
              }
            }
          }
        }
      });

      // Gráfico de conservação ambiental
      const conservacaoCtx = document.getElementById('conservacaoChart').getContext('2d');
      new Chart(conservacaoCtx, {
        type: 'radar',
        data: {
          labels: ['Educação Ambiental', 'Projetos Locais', 'Áreas Protegidas', 'Recuperação de Solos', 'Biodiversidade'],
          datasets: [{
            label: 'Foco de Atuação 2024-2030',
            data: [70, 60, 50, 40, 65],
            backgroundColor: 'rgba(153, 102, 255, 0.2)',
            borderColor: 'rgb(153, 102, 255)',
            pointBackgroundColor: 'rgb(153, 102, 255)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgb(153, 102, 255)'
          }]
        },
        options: {
          scales: {
            r: {
              angleLines: {
                display: true
              },
              suggestedMin: 0,
              suggestedMax: 100
            }
          }
        }
        
      });
    });
    // Função para baixar todos os gráficos
document.getElementById('downloadAllBtn').addEventListener('click', function() {
  // Lista de todos os gráficos que devem ser baixados
  const charts = [
    { id: 'materiaisChart', name: 'materiais-reciclados' },
    { id: 'comunidadeChart', name: 'impacto-comunitario' },
    { id: 'energiaChart', name: 'eficiencia-energetica' },
    { id: 'conservacaoChart', name: 'conservacao-ambiental' }
  ];

  // Cria um ZIP para agrupar todos os gráficos
  if (typeof JSZip !== 'undefined') {
    // Se JSZip estiver disponível (você precisaria incluir a biblioteca)
    createZipWithCharts(charts);
  } else {
    // Fallback: baixa cada gráfico individualmente
    charts.forEach(chart => {
      downloadChart(chart.id, chart.name);
    });
  }
});

// Função para baixar um gráfico individual
function downloadChart(chartId, fileName) {
  const chartCanvas = document.getElementById(chartId);
  if (!chartCanvas) return;
  
  const chartImage = chartCanvas.toDataURL('image/png');
  const downloadLink = document.createElement('a');
  downloadLink.href = chartImage;
  downloadLink.download = `biotech-${fileName}-${new Date().toLocaleDateString('pt-BR').replace(/\//g, '-')}.png`;
  document.body.appendChild(downloadLink);
  downloadLink.click();
  document.body.removeChild(downloadLink);
}

// Opcional: Função para criar ZIP (requer biblioteca JSZip)
function createZipWithCharts(charts) {
  const zip = new JSZip();
  const imgFolder = zip.folder("graficos-biotech");
  
  let promises = charts.map(chart => {
    return new Promise(resolve => {
      const canvas = document.getElementById(chart.id);
      if (canvas) {
        canvas.toBlob(blob => {
          imgFolder.file(`biotech-${chart.name}.png`, blob);
          resolve();
        }, 'image/png');
      }
    });
  });

  Promise.all(promises).then(() => {
    zip.generateAsync({ type: 'blob' }).then(content => {
      const link = document.createElement('a');
      link.href = URL.createObjectURL(content);
      link.download = `graficos-biotech-${new Date().toLocaleDateString('pt-BR').replace(/\//g, '-')}.zip`;
      link.click();
    });
  });
}
  </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Toast no topo do modal
        function showToast(msg) {
          const toast = document.getElementById("toast-notification");
          if (!toast) return;
          toast.textContent = msg;
          toast.classList.add("show");
          toast.classList.remove("hide");
          setTimeout(() => {
            toast.classList.add("hide");
            setTimeout(() => {
              toast.classList.remove("show");
              toast.style.display = "none";
            }, 400);
          }, 2200);
          toast.style.display = "block";
        }

        // Avatar menu
        function mostrarUsuario(nome) {
          let navMenu = document.querySelector("nav .menu");
          let loginLi = navMenu.querySelector("li .auth-btn")?.parentElement;
          if (loginLi) loginLi.style.display = "none";
          let avatarLi = document.getElementById("user-avatar");
          if (!avatarLi) {
            avatarLi = document.createElement("li");
            avatarLi.id = "user-avatar";
            avatarLi.style.position = "relative";
            avatarLi.style.display = "flex";
            avatarLi.style.alignItems = "center";
            avatarLi.style.gap = "8px";
            avatarLi.style.cursor = "pointer";
            avatarLi.innerHTML = `
        <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(
          nome
        )}&background=009688&color=fff&rounded=true&size=32" alt="Avatar" style="border-radius:50%;width:32px;height:32px;">
        <span style="font-weight:bold;">${nome.split(" ")[0]}</span>
        <div id="avatar-menu" style="display:none;position:absolute;top:40px;right:0;background:#fff;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.15);min-width:180px;z-index:999;">
          <ul style="list-style:none;padding:8px 0;margin:0;">
            <li style="padding:8px 20px;cursor:pointer;" id="menu-historico">Histórico de Compras</li>
            <li style="padding:8px 20px;cursor:pointer;" id="menu-config">Configurações do Usuário</li>
            <li style="padding:8px 20px;cursor:pointer;color:#e53935;" id="menu-logout">Sair</li>
          </ul>
        </div>
      `;
            navMenu.appendChild(avatarLi);

            avatarLi.addEventListener("click", function (e) {
              e.stopPropagation();
              let menu = document.getElementById("avatar-menu");
              menu.style.display =
                menu.style.display === "block" ? "none" : "block";
            });
            document.addEventListener("click", function () {
              let menu = document.getElementById("avatar-menu");
              if (menu) menu.style.display = "none";
            });
                        document.getElementById("menu-logout").onclick = function (e) {
  e.stopPropagation();
  localStorage.setItem("userLogado", "false");
  localStorage.removeItem("carrinho"); // <- zera o carrinho ao sair
  atualizarContadorCarrinho();        // <- atualiza o ícone do carrinho
  avatarLi.remove();
  if (loginLi) loginLi.style.display = "";
  showToast("Você saiu da conta.");
};
            const menuHistorico = document.getElementById("menu-historico");
            if (menuHistorico) {
              menuHistorico.onclick = function (e) {
                e.stopPropagation();
                window.location.href = "historico.html";
              };
            }
            const menuConfig = document.getElementById("menu-config");
            if (menuConfig) {
              menuConfig.onclick = function (e) {
                e.stopPropagation();
                window.location.href = "dados.html";
              };
            }
          } else {
            avatarLi.querySelector("span").textContent = nome.split(" ")[0];
            avatarLi.querySelector(
              "img"
            ).src = `https://ui-avatars.com/api/?name=${encodeURIComponent(
              nome
            )}&background=009688&color=fff&rounded=true&size=32`;
          }
        }

        // Limpa todos os campos de um form
        function limparCampos(form) {
          if (!form) return;
          form.querySelectorAll("input").forEach((input) => {
            if (input.type === "checkbox" || input.type === "radio") {
              input.checked = false;
            } else {
              input.value = "";
            }
          });
        }

        // Preenche campos de login se lembrar senha estiver ativo
        function preencherLoginSeLembrado() {
          const loginForm = document.querySelector(".auth-form[action-login]");
          if (!loginForm) return;
          const lembrar = localStorage.getItem("lembrarSenha") === "true";
          const email = localStorage.getItem("userEmail") || "";
          const senha = localStorage.getItem("userSenha") || "";
          loginForm.querySelector('input[type="email"]').value = lembrar
            ? email
            : "";
          loginForm.querySelector('input[type="password"]').value = lembrar
            ? senha
            : "";
          const checkbox = document.getElementById("lembrar-senha");
          if (checkbox) checkbox.checked = lembrar;
        }

        // Troca de abas: limpa campos do cadastro e login
        function setupTabLimpeza() {
          const loginTab = document.getElementById("login-tab");
          const registerTab = document.getElementById("register-tab");
          const loginForm = document.querySelector(".auth-form[action-login]");
          const registerForm = document.querySelector(
            ".auth-form[action-register]"
          );

          if (loginTab && registerTab && loginForm && registerForm) {
            loginTab.addEventListener("change", function () {
              limparCampos(registerForm);
              preencherLoginSeLembrado();
            });
            registerTab.addEventListener("change", function () {
              limparCampos(registerForm);
              limparCampos(loginForm);
            });
          }
        }

        // CPF
        const cpfInput = document.querySelector('input[placeholder="CPF"]');
        if (cpfInput) {
          cpfInput.addEventListener("input", function () {
            let v = cpfInput.value.replace(/\D/g, "");
            v = v.replace(/(\d{3})(\d)/, "$1.$2");
            v = v.replace(/(\d{3})(\d)/, "$1.$2");
            v = v.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
            cpfInput.value = v;
          });
        }

        // Telefone
        const telInput = document.querySelector(
          'input[placeholder="Telefone/Fixo"]'
        );
        if (telInput) {
          telInput.addEventListener("input", function () {
            let v = telInput.value.replace(/\D/g, "");
            v = v.replace(/^(\d{2})(\d)/g, "($1) $2");
            v = v.replace(/(\d{5})(\d)/, "$1-$2");
            telInput.value = v;
          });
        }

        // Função para verificar login
        function isUserLoggedIn() {
          return (
            localStorage.getItem("userNome") &&
            localStorage.getItem("userEmail") &&
            localStorage.getItem("userSenha")
          );
        }

        // Lógica do botão COMPRAR
        document.querySelectorAll(".btn-comprar").forEach(function (btn) {
          btn.addEventListener("click", function (e) {
            e.preventDefault();
            if (isUserLoggedIn()) {
              showToast("Produto adicionado ao carrinho!");
              // Aqui você pode adicionar lógica real de adicionar ao carrinho, se quiser
            } else {
              document.getElementById("auth-modal-toggle").checked = true;
              showToast("Faça login para comprar!");
            }
          });
        });

        // REGISTRO
        const registerForm = document.querySelector(
          ".auth-form[action-register]"
        );
        if (registerForm) {
          registerForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const nome = registerForm
              .querySelector('input[placeholder="Nome inteiro"]')
              .value.trim();
            const nomeMaterno = registerForm
              .querySelector('input[placeholder="Nome Materno"]')
              .value.trim();
            const email = registerForm
              .querySelector('input[type="email"]')
              .value.trim();
            const telefone = registerForm
              .querySelector('input[placeholder="Telefone/Fixo"]')
              .value.trim();
            const cpf = registerForm
              .querySelector('input[placeholder="CPF"]')
              .value.trim();
            const senha = registerForm.querySelector(
              'input[placeholder="Senha"]'
            ).value;
            const senha2 = registerForm.querySelector(
              'input[placeholder="Confirmar Senha"]'
            ).value;
            // Endereço
            const cep = registerForm.querySelector("#cep").value.trim();
            const rua = registerForm.querySelector("#rua").value.trim();
            const numero = registerForm.querySelector("#numero").value.trim();
            const bairro = registerForm.querySelector("#bairro").value.trim();
            const cidade = registerForm.querySelector("#cidade").value.trim();
            const estado = registerForm.querySelector("#estado").value.trim();

            if (
              !nome ||
              !nomeMaterno ||
              !email ||
              !telefone ||
              !cpf ||
              !senha ||
              !senha2 ||
              !cep ||
              !rua ||
              !numero ||
              !bairro ||
              !cidade ||
              !estado
            ) {
              showToast("Preencha todos os campos obrigatórios.");
              return;
            }
            if (senha !== senha2) {
              showToast("As senhas não coincidem.");
              return;
            }
            localStorage.setItem("userNome", nome);
            localStorage.setItem("userNomeMaterno", nomeMaterno);
            localStorage.setItem("userEmail", email);
            localStorage.setItem("userTelefone", telefone);
            localStorage.setItem("userCPF", cpf);
            localStorage.setItem("userSenha", senha);
            localStorage.setItem(
              "userEndereco",
              JSON.stringify({ cep, rua, numero, bairro, cidade, estado })
            );
            document.getElementById("auth-modal-toggle").checked = true;
            document.getElementById("login-tab").checked = true;
            limparCampos(registerForm);
            showToast("Cadastro realizado com sucesso!");
          });
        }

        // Salvar lembrar senha ao marcar/desmarcar o checkbox
        const lembrarSenhaCheckbox = document.getElementById("lembrar-senha");
        if (lembrarSenhaCheckbox) {
          lembrarSenhaCheckbox.addEventListener("change", function () {
            localStorage.setItem(
              "lembrarSenha",
              this.checked ? "true" : "false"
            );
          });
        }

        // LOGIN
        const loginForm = document.querySelector(".auth-form[action-login]");
        if (loginForm) {
          loginForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const email = loginForm.querySelector('input[type="email"]').value;
            const senha = loginForm.querySelector(
              'input[type="password"]'
            ).value;
            const savedEmail = localStorage.getItem("userEmail");
            const savedSenha = localStorage.getItem("userSenha");
            const savedNome = localStorage.getItem("userNome");
            const lembrar = document.getElementById("lembrar-senha").checked;

            // Salva email/senha se lembrar senha estiver marcado
            if (lembrar) {
              localStorage.setItem("lembrarSenha", "true");
              localStorage.setItem("userEmail", email);
              localStorage.setItem("userSenha", senha);
            } else {
              localStorage.setItem("lembrarSenha", "false");
            }

            if (email === savedEmail && senha === savedSenha && savedNome) {
              localStorage.setItem("userLogado", "true");
              mostrarUsuario(savedNome);
              document.getElementById("auth-modal-toggle").checked = false;
              limparCampos(loginForm);
              showToast("Login realizado com sucesso!");
            } else {
              showToast("Usuário ou senha inválidos. Cadastre-se primeiro.");
            }
          });
        }

        // Limpa campos ao abrir modal e preenche login se lembrar senha
        document
          .getElementById("auth-modal-toggle")
          ?.addEventListener("change", function (e) {
            if (this.checked) {
              limparCampos(
                document.querySelector(".auth-form[action-register]")
              );
              limparCampos(document.querySelector(".auth-form[action-login]"));
              preencherLoginSeLembrado();
            }
          });

        // Troca de abas limpa campos
        setupTabLimpeza();

        // Exibir avatar se usuário já estiver logado
        const savedNome = localStorage.getItem("userNome");
        const savedEmail = localStorage.getItem("userEmail");
        const savedSenha = localStorage.getItem("userSenha");
        const userLogado = localStorage.getItem("userLogado") === "true";
        if (savedNome && savedEmail && savedSenha && userLogado) {
          mostrarUsuario(savedNome);
        }

        // Preenchimento automático de endereço pelo CEP
        const cepInput = document.getElementById("cep");
        if (cepInput) {
          cepInput.addEventListener("blur", function () {
            const cep = cepInput.value.replace(/\D/g, "");
            if (cep.length === 8) {
              fetch(`https://viacep.com.br/ws/${cep}/json/`)
                .then((res) => res.json())
                .then((data) => {
                  if (!data.erro) {
                    document.getElementById("rua").value =
                      data.logradouro || "";
                    document.getElementById("bairro").value = data.bairro || "";
                    document.getElementById("cidade").value =
                      data.localidade || "";
                    document.getElementById("estado").value = data.uf || "";
                  }
                });
            }
          });
        }
      });
    </script>
  <style>
  /* Container do botão - POSICIONAMENTO FINAL */
.download-all-container {
  text-align: center;
  margin: 40px 0;
  padding-top: 20px;
  border-top: 1px solid #e0e0e0;
}

/* Botão minimalista */
.btn-download-all {
  background: transparent;
  color: #0c0c0c;
  border: 1px solid #858b85;
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.btn-download-all:hover {
  background: #66aab6;
  color: white;
}
/* Dark Mode */
.dark-mode .download-all-container {
  border-top-color: #444;
}

.dark-mode .btn-download-all {
  color: #4CAF50;
  border-color: #4CAF50;
}

.dark-mode .btn-download-all:hover {
  background: #4CAF50;
  color: white;
}
.graficos-header {
   text-align: center;
  margin: 3rem 0;
  padding-top: 2rem;
  border-top: 1px solid #e0e0e0;
}

/* Estilo para o botão de download geral */


  .metas-container {
  max-width: 1200px;
  margin: 2rem auto;
  padding: 0 1rem;
  color: #333;
}

.metas-container h1 {
  text-align: center;
  color: #191a19;
  margin-bottom: 0.5rem;
  font-size: 2.8rem;
}

.subtitulo {
  text-align: center;
  font-size: 1.2rem;
  color: #666;
  margin-bottom: 3rem;
}

.destaque-metas {
  background: linear-gradient(135deg, #E8F5E9, #b0f1ec);
  border-radius: 15px;
  padding: 2rem;
  margin: 2rem 0;
  box-shadow: 0 4px 15px rgba(73, 171, 201, 0.1);
}

.destaque-card {
  text-align: center;
}

.destaque-card i {
  font-size: 3rem;
  color: #2E7D32;
  margin-bottom: 1rem;
}

.destaque-card h3 {
  color: #121312;
  font-size: 1.8rem;
  margin-bottom: 1.5rem;
}

.destaque-card ul {
  list-style-type: none;
  padding: 0;
  max-width: 600px;
  margin: 0 auto;
}

.destaque-card li {
  background: white;
  margin: 0.8rem 0;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  font-weight: 500;
}
.metas-container {
  max-width: 1200px;
  margin: 2rem auto;
  padding: 0 1rem;
  color: #333;
}

.metas-container h1 {
  text-align: center;
  color: #080808;
  margin-bottom: 0.5rem;
  font-size: 2.5rem;
  font-weight: 600;
}

.subtitulo {
  text-align: center;
  font-size: 1.1rem;
  color: #666;
  margin-bottom: 3rem;
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
}

.graficos-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 30px; /* Espaço igual entre todos os gráficos */
  margin: 2rem 0;
}

.grafico-card {
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  transition: transform 0.3s ease;
}
.grafico-card canvas {
  width: 100% !important;
  height: auto !important;
  margin-bottom: 1rem;
}

.grafico-card:hover {
  transform: translateY(-5px);
}

.grafico-card h2 {
  color: #050505;
  margin-bottom: 1.5rem;
  text-align: center;
  font-size: 1.4rem;
}

.grafico-card p {
  text-align: center;
  margin-top: 1.5rem;
  color: #d1f3e9;
  font-size: 0.95rem;
  line-height: 1.5;
}

.metas-texto h2 {
  text-align: center;
  color: #111111;
  margin: 4rem 0 2rem;
  font-size: 2rem;
  position: relative;
}

.metas-texto h2::before,
.metas-texto h2::after {
  content: '•';
  color: #151615;
  padding: 0 1rem;
}

.metas-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.meta-item {
  background: white;
  border-radius: 10px;
  padding: 2rem;
  box-shadow: 0 4px 12px rgb(87, 190, 197);
  transition: all 0.3s ease;
  border-top: 4px solid #64d6c7;
}

.meta-item:hover {
  box-shadow: 0 8px 16px rgba(0,0,0,0.1);
}

.meta-item i {
  font-size: 2rem;
  color: #1b1b1b;
  display: block;
  text-align: center;
  margin-bottom: 1.2rem;
}

.meta-item h3 {
  color: #191a19;
  text-align: center;
  margin-bottom: 1.5rem;
  font-size: 1.3rem;
  font-weight: 600;
}

.meta-item ul {
  padding-left: 1.2rem;
}

.meta-item li {
  margin-bottom: 1rem;
  line-height: 1.6;
  position: relative;
  padding-left: 1.5rem;
}

.meta-item li::before {
  content: '→';
  color: #2e717d;
  position: absolute;
  left: 0;
}

.impacto-futuro {
  margin: 4rem 0;
  text-align: center;
  background: #f9f9f9;
  padding: 2rem;
  border-radius: 10px;
}

.impacto-futuro h2 {
  color: #0c0c0c;
  font-size: 2rem;
  margin-bottom: 1rem;
}

.impacto-descricao {
  color: #666;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.impacto-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  max-width: 900px;
  margin: 0 auto;
}

.impacto-item {
  background: white;
  border-radius: 8px;
  padding: 1.5rem 1rem;
  box-shadow: 0 4px 8px rgba(0,0,0,0.05);
}

.impacto-numero {
  font-size: 2.2rem;
  font-weight: 700;
  color: #0e0f0e;
  margin-bottom: 0.5rem;
  transition: all 0.5s ease;
}

.impacto-texto {
  color: #666;
  font-size: 0.95rem;
  line-height: 1.4;
}

.convite-acao {
  text-align: center;
  margin: 3rem 0;
  padding: 2rem;
  background: #e6f7f5;
  border-radius: 10px;
}

.convite-acao h2 {
  color: #0c0c0c;
  font-size: 1.8rem;
  margin-bottom: 1rem;
}

.convite-acao p {
  color: #666666;
  max-width: 600px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.btn-verde {
  display: inline-block;
  background: #388e94;
  color: white;
  padding: 0.8rem 2rem;
  border-radius: 50px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
}

.btn-verde:hover {
  background: #baf0f7;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* Dark Mode */
.dark-mode .metas-container {
  color: #eee;
}

.dark-mode .subtitulo,
.dark-mode .grafico-card p,
.dark-mode .impacto-descricao,
.dark-mode .impacto-texto,
.dark-mode .convite-acao p {
  color: #bbb;
}

.dark-mode .grafico-card,
.dark-mode .meta-item,
.dark-mode .impacto-item {
  background: #333;
  color: #eee;
}

.dark-mode .meta-item {
  border-top-color: #4CAF50;
}

.dark-mode .meta-item li::before {
  color: #4CAF50;
}

.dark-mode .impacto-futuro {
  background: #2a2a2a;
}

.dark-mode .convite-acao {
  background: #1B5E20;
}

.dark-mode .convite-acao p {
  color: #eee;
}
  

  @media (max-width: 768px) {
  .graficos-section {
    grid-template-columns: 1fr;
    gap: 25px;
  }
    .metas-container h1 {
    font-size: 2rem;
  
  .metas-grid {
    grid-template-columns: 1fr;
  }
    .graficos-section {
    grid-template-columns: 1fr;
  }
  
  .impacto-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}}


@media (max-width: 480px) {
  .impacto-grid {
    grid-template-columns: 1fr;
  }
  
  .impacto-numero {
    font-size: 1.8rem;
  }
  
  .meta-item {
    padding: 1.5rem;
  }
}</style>
</body>
</html>